(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const m of r.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&n(m)}).observe(document,{childList:!0,subtree:!0});function s(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(o){if(o.ep)return;o.ep=!0;const r=s(o);fetch(o.href,r)}})();const g=document.querySelector(".section-input__text"),_=document.querySelector(".section-input__button"),f=document.getElementById("output"),u=document.querySelector(".section-header__icon"),y=document.querySelector(".img-desktop-light"),v=()=>document.querySelectorAll(".deleteIcon"),L=document.querySelector(".section-output__bottoms__clear"),k=document.querySelectorAll(".section-output__bottoms__filter span"),E=document.querySelector(".section-output__bottoms__filter__all"),h=document.querySelector(".section-output__bottoms__filter__active"),S=document.querySelector(".section-output__bottoms__filter__completed");document.querySelectorAll("#output ul");const b=document.querySelector(".section-output__bottoms__items"),i=e=>{const t=JSON.parse(localStorage.getItem(e));return Array.isArray(t)?t:[]},l=(e,t)=>{localStorage.setItem(e,JSON.stringify(t))},A=(e,t)=>{if(!confirm("Are you sure you want to delete this task?"))return;const n=i("tasks");n.splice(t,1),l("tasks",n),a()},T=()=>{v().forEach(t=>{const s=t.dataset.index;t.addEventListener("click",n=>A(n,s))}),document.querySelectorAll(".section-output__list__circle").forEach(t=>{t.addEventListener("click",()=>{const s=t.dataset.index,n=i("tasks");n[s].isCompleted=!n[s].isCompleted,l("tasks",n),a(),p()})})},a=(e=null)=>{if(e=e||i("tasks"),!e||e.length===0){f.innerHTML="<p class='noTasks'>No tasks yet...</p>";return}f.innerHTML=e.map((t,s)=>`
    <ul draggable="true" class="section-output__list TaskList">
      <span class="section-output__list__circle ${t.isCompleted?"checked":""}" data-index="${s}"></span>
      <li class="section-output__list__value ${t.isCompleted?"done":""}">${t.value}</li>
      <img class="deleteIcon" src="./images/icon-cross.svg" alt="delete" data-index="${s}">
    </ul>
  `).join(""),T(),p()},q=()=>{_.addEventListener("click",()=>{const e=g.value.trim();if(!e||e.length>=14)return;const t={value:e,isCompleted:!1},s=i("tasks")||[];s.push(t),l("tasks",s),a(),g.value=""})},B=()=>{const e=document.body.classList.toggle("dark-mode");u.src=e?"../images/icon-sun.svg":"../images/icon-moon.svg",y.src=e?"./images/bg-desktop-dark.jpg":"./images/bg-desktop-light.jpg",l("darkModeFlag",e)},C=()=>{localStorage.getItem("darkModeFlag")==="true"?(document.body.classList.add("dark-mode"),u.src="../images/icon-sun.svg"):(document.body.classList.remove("dark-mode"),u.src="../images/icon-moon.svg")};u.addEventListener("click",()=>B());L.addEventListener("click",()=>{let e=i("tasks")||[];e=Array.isArray(e)?e:[];const t=e.filter(s=>!s.isCompleted);l("tasks",t),a()});const p=()=>{let e=i("tasks");Array.isArray(e)||(e=[]);const t=e.filter(s=>!s.isCompleted).length;b.textContent=`${t} items left`};_.addEventListener("click",()=>{q(),p()});E.addEventListener("click",()=>{a()});h.addEventListener("click",()=>{const t=i("tasks").filter(s=>!s.isCompleted);a(t)});S.addEventListener("click",()=>{const t=i("tasks").filter(s=>s.isCompleted);a(t)});const I=e=>{k.forEach(t=>t.classList.remove("active")),e.classList.add("active")};k.forEach(e=>{e.addEventListener("click",()=>{I(e)})});C();a();const d=document.getElementById("output");let c=null;const x=()=>{d.addEventListener("dragstart",e=>{e.target.tagName==="UL"&&(c=e.target,setTimeout(()=>{c.style.display="none"},0))}),d.addEventListener("dragend",e=>{c&&setTimeout(()=>{c.style.display="flex",c=null},0)}),d.addEventListener("dragover",e=>e.preventDefault()),d.addEventListener("drop",e=>{e.preventDefault(),c&&e.target.tagName==="UL"&&c.parentNode.insertBefore(c,e.target.nextSibling)})};x();
